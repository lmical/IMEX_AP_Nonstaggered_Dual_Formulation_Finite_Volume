import numpy as np
import shutil, os
import re
from joblib import Parallel, delayed
import multiprocessing
import sys

CodeFolder="src"
ReferenceTestFolder="tests/test"

#Change folder
instruction="cd "+CodeFolder+" \n"
#Clean
instruction+="make clean \n"
#Compile
instruction+="make"
os.system(instruction)

#Change folder
instruction="cd "+ReferenceTestFolder+" \n"

#Remove existing .dat
instruction+="rm *.dat\n"

#Run





# instruction+="../../bin/main 8 200 200 0.5 2 -2\n"

# instruction+="../../bin/main 6 200 200 0.5 2 -2\n"

#SAFETY CHECK
# PP1
# instruction+="../../bin/main 3 25 25 2 2 0.5 1 1.0\n"
# instruction+="../../bin/main 3 25 25 2 -5 0.5 1 1.0\n"

# PP0
# instruction+="../../bin/main 3 25 25 2 2 0.5 0 1.0\n"
# instruction+="../../bin/main 3 25 25 2 -5 0.5 0 1.0\n"

# instruction+="../../bin/main 3 400 400 2 2 0.5 0 1.0\n"
# instruction+="../../bin/main 3 400 400 2 -5 0.5 0 1.0\n"

#SOD
# instruction+="../../bin/main 7 200 200 2 2 0.5 1 1.0\n"
# instruction+="../../bin/main 7 200 200 2 -2 0.5 1 1.0\n"

#SOD 1D
# instruction+="../../bin/main 4 50 50 -1 1 0.3 0 1.0\n"
# instruction+="../../bin/main 8 200 3 26 3 0.3 1 1.0\n"


# instruction+="../../bin/main 8 200 3 26 26 3 0.3 1 1.0\n"
# instruction+="../../bin/main 8 200 3 28 28 3 0.3 1 1.0\n"
# instruction+="../../bin/main 8 200 3 28 29 3 0.3 1 1.0\n"

# instruction+="../../bin/main 350 400 3 28 28 3 0.3 1 1.0\n" #Woodward colella
# instruction+="../../bin/main 350 400 3 28 29 3 0.3 1 1.0\n" #Woodward colella


# instruction+="../../bin/main -302 800 3 28 28 3 0.3 1 1.0\n" #Woodward colella


# instruction+="../../bin/main 8 200 3 28 29 3 0.45 0.5 1\n" 
# instruction+="../../bin/main 350 400 3 28 29 3 0.45 0.05 1\n" 
# instruction+="../../bin/main 350 1600 3 28 29 3 0.4 0.05 1\n" 



# instruction+="../../bin/main 3 200 200 28 28 3 0.4 0.025 1\n" 
# instruction+="../../bin/main 10 250 250 28 29 3 0.4 0.025 1\n" 

# instruction+="../../bin/main 7 100 100 28 28 2 0.25 1\n"
# Error  0.45349579196493206       0.31955188388933026       0.31955188388933103        1.2962410225134924     


# instruction+="../../bin/main 7 100 100 28 29 2 0.25 1\n"
# FCFLAGS += -I. -DCENTEREDPRIMITIVE
# FCFLAGS += -I. -DRECONSTRUCTFROMCONSERVED
# FCFLAGS += -I. -DPATHCONSERVATIVESHOCKDETECTION
# FCFLAGS += -I. -DSMOOTHINGLIMITER
# Error  0.45451303561057155       0.32005349359397323       0.32005349359397256        1.2942214233189244     

# instruction+="../../bin/main 350 400 3 28 29 3 0.3 1 1.0\n" #Woodward colella


# instruction+="../../bin/main 7 200 200 27 3 0.3 1 1.0\n"

# instruction+="../../bin/main 8 200 3 5 4 0.3 1 1.0\n"
# instruction+="../../bin/main 7 200 200 5 4 0.3 1 1.0\n"


# instruction+="../../bin/main 101 50 50 23 -22 0.25 5 0.01\n"

# instruction+="../../bin/main 7 200 200 27 3 0.3 1 1.0\n"

# instruction+="../../bin/main 101 100 100 -23 -22 0.25 5 0.1\n"
# instruction+="../../bin/main 3 100 100 -23 12 0.25 0 1.0\n"
# instruction+="../../bin/main 3 100 100 -23 12 0.25 5 1.0\n"

# instruction+="../../bin/main 3 200 200 -26 -102 0.3 5 1.0\n"

# instruction+="../../bin/main 3 100 100 23 12 0.25 5 1.0\n"
# instruction+="../../bin/main 3 100 100 -23 12 0.25 5 1.0\n"

# instruction+="../../bin/main 18 200 10 23 12 0.25 0 1.0\n"

#X
# instruction+="../../bin/main 28 200 3 -26 3 0.3 1 1.0\n"
# instruction+="../../bin/main 30 400 3 -26 3 0.3 1 1.0\n"
# instruction+="../../bin/main 31 400 3 -26 3 0.3 1 1.0\n"

# instruction+="../../bin/main 30 800 2 -26 3 0.3 1 1.0\n"

# instruction+="../../bin/main 101 100 100 -1 -101 0.25 0 0.1\n"

#8 Sod
# instruction+="../../bin/main 8 200 5 -5 2 0.25 1 1.0\n"
#28 Sod multifluid
# instruction+="../../bin/main 28 200 2 -26 3 0.3 0 1.0\n" #######################
#30 Stiff Sod multifluid
# instruction+="../../bin/main 30 400 5 -23 12 0.25 1 1.0\n"
# instruction+="../../bin/main 30 400 5 -23 12 0.25 1 1.0\n"
# instruction+="../../bin/main 30 400 5 -1 1 0.25 1 1.0\n"

#31 Water air multifluid
# instruction+="../../bin/main 31 400 3 -1 12 0.25 0 1.0\n"

# instruction+="../../bin/main 31 20 3 -26 3 0.5 0 1.0\n"

# instruction+="../../bin/main 28 400 3 -23 3 0.5 1 1.0\n"

# instruction+="../../bin/main 28 200 2 -26 -26 3 0.3 1 1.0\n"

# instruction+="../../bin/main 28 200 2 -26 3 0.3 1 1.0\n"

# instruction+="../../bin/main 30 400 2 -26 3 0.3 1 1.0\n"

# instruction+="../../bin/main 31 400 2 -26 3 0.3 1 1.0\n"

# instruction+="../../bin/main 31 800 2 -26 3 0.3 1 1.0\n"

# instruction+="../../bin/main 30 1600 2 -23 3 0.5 1 1.0\n"

# instruction+="../../bin/main 7 200 200 -26 3 0.3 1 1.0\n"

# instruction+="../../bin/main 3 100 100 -26 3 0.3 1 1.0\n"


# instruction+="../../bin/main 28 200 3 -26 3 0.3 1 1.0\n"

# instruction+="../../bin/main 29 3 200 -26 3 0.3 1 1.0\n"
# instruction+="../../bin/main 8 200 2 -26 3 0.3 1 1.0\n"

# instruction+="../../bin/main 28 200 3 -26 3 0.3 1 1.0\n"


# instruction+="../../bin/main 30 1600 2 -26 3 0.3 1 1.0\n"

# instruction+="../../bin/main 30 400 2 26 3 0.3 1 1.0\n"

# instruction+="../../bin/main 30 400 2 -26 3 0.3 1 1.0\n"
# instruction+="../../bin/main 31 400 2 -26 3 0.3 1 1.0\n"

# instruction+="../../bin/main 28 400 3 -23 3 0.3 1 1.0\n"
# instruction+="../../bin/main 30 400 3 -26 3 0.3 1 1.0\n"



# instruction+="../../bin/main 31 100 3 -26 3 0.5 0 1.0\n"


# instruction+="../../bin/main 31 400 3 -26 3 0.5 0 1.0\n" #play


# instruction+="../../bin/main 31 50 3 -23 12 0.25 0 1.0\n"
#40 helium bubble multifluid
# instruction+="../../bin/main 40 500 200 23 12 0.25 1 1.0\n"

# instruction+="../../bin/main 31 200 5 21 12 0.05 0 1.0\n"


#Y
# instruction+="../../bin/main 29 10 400 1 1 0.25 0 1.0\n"

#EXPLICIT
#SOD 1D
# instruction+="../../bin/main 8 200 3 -27 -27 3 0.3 1 1.0\n" #ACTIVEFLUX
# instruction+="../../bin/main 8 200 3 26 3 0.3 1 1.0\n"

# VORTEX
# instruction+="../../bin/main 3 200 200 -26 3 0.3 -1 1.0\n"

# instruction+="../../bin/main 3 200 200 -26 3 0.3 -1 1.0\n"


# instruction+="../../bin/main 350 400 3 -27 -27 3 0.3 1 1.0\n" #Woodward colella
# instruction+="../../bin/main 401 200 3 -27 -27 3 0.3 1 1.0\n" #RP1
# instruction+="../../bin/main 402 200 3 -27 -27 3 0.3 1 1.0\n" #RP2
# instruction+="../../bin/main 403 200 3 -27 -27 3 0.3 1 1.0\n" #RP3
# instruction+="../../bin/main 404 200 3 -27 -27 3 0.3 1 1.0\n" #RP4
# instruction+="../../bin/main 405 200 3 -27 -27 3 0.3 1 1.0\n" #RP5
# instruction+="../../bin/main 406 200 3 -27 -27 3 0.3 1 1.0\n" #RP6
# instruction+="../../bin/main 500 200 3 -27 -27 3 0.3 1 1.0\n" #RP6
# instruction+="../../bin/main 501 200 3 -27 -27 3 0.3 1 1.0\n" #RP6

# instruction+="../../bin/main 3 100 100 -5 12 0.25 5 1.0\n"


# instruction+="../../bin/main 3 100 100 -26 3 0.3 1 1.0\n" #DEEPACK

# instruction+="../../bin/main 3 400 400 -26 3 0.3 1 1.0\n"

# instruction+="../../bin/main 350 400 3 27 3 0.3 1 1.0\n" #Woodward colella

# instruction+="../../bin/main 10 50 50 28 28 3 0.45 1\n"

# instruction+="../../bin/main 892 500 500 28 28 3 0.45 1\n"


# instruction+="../../bin/main 892 50 50 -26 -26 3 0.3 1 1.0\n"

# instruction+="../../bin/main 8 200 2 -26 -26 3 0.3 1 1.0\n"

# instruction+="../../bin/main 892 500 500 -28 -28 3 0.45 1 1.0\n"


# instruction+="../../bin/main 10 250 250 28 28 3 0.45 1.0\n"

#T=0.01
#ALEX TIMESTEP
#PRIMTIVE CENTERED
# instruction+="../../bin/main 10 250 250 28 28 3 0.45 1.0\n"

        #    1   1.0000125258931736       0.12499996683328857     
        #    2   4.4204584463481637E-003 -0.45753052141369521     
        #    3   4.4204584463482296E-003 -0.45753052141369516     
        #    4   2.5000000762210508       0.34999986570604541    

#NO FLAGS
# instruction+="../../bin/main 10 250 250 28 28 3 0.45\n"

        #SAME

#T=0.01
#MY TIMESTEP
#PRIMTIVE CENTERED
# instruction+="../../bin/main 10 250 250 28 28 3 0.45 1.0 3\n"
        #    1   1.0000233001944101       0.12499997154347926     
        #    2   4.5249735942836621E-003 -0.45768110077329782     
        #    3   4.5249735942837020E-003 -0.45768110077329777     
        #    4   2.5000000551828574       0.34999988671351362     

#NO FLAGS
# instruction+="../../bin/main 10 250 250 28 28 3 0.45\n"
        #SAME


#SOD
# CHAR
# instruction+="../../bin/main 7 100 100 -28 -28 3 0.45 1 1.0\n" #Sod
# FCFLAGS += -I. -DACTIVEFLUX
# FCFLAGS += -I. -DALTERNATIVEFORMULATIONPRESSURE

#  Error  0.45326470896227317       0.31880091886883571       0.31892626202210961        1.3002943694904594     
#  Error W_X  0.45089691502546814        1.0475524083881482        1.0491448667914711       0.47397752608561033     
#  Error W_Y  0.45089126831853221        1.0484827158723624        1.0489755808593624       0.47399565571055585     


#PRIM
#MULTI
# instruction+="../../bin/main 7 100 100 -28 -28 3 0.45 1 1.0\n" #Sod
#  Error  0.45391085609879256       0.31878155132184244       0.31896263802376829        1.3013752392510036        0.0000000000000000     
#  Error W_X  0.45152006480347096        1.0483546856574315        1.0499708503814407       0.47456209698625801        0.0000000000000000     
#  Error W_Y  0.45151485244266204        1.0491680436692283        1.0499387095890862       0.47458559733974415        0.0000000000000000     

#NOMULTI
#  Error  0.45391085609879256       0.31878155132184249       0.31896263802376823        1.3013752392510034     
#  Error W_X  0.45152006480347096        1.0483546856574320        1.0499708503814409       0.47456209698625801     
#  Error W_Y  0.45151485244266198        1.0491680436692279        1.0499387095890860       0.47458559733974398     

# instruction+="../../bin/main -304 800 5 28 29 3 0.4 1 2\n"

# instruction+="../../bin/main 12 10 40 28 28 3 0.4 1 2\n"

# instruction+="../../bin/main 12 100 400 28 28 3 0.4 1 2\n"
  
# instruction+="../../bin/main 350 400 3 28 29 3 0.4 0.1 2\n"

# instruction+="../../bin/main 403 200 3 27 27 3 0.4\n"

# instruction+="../../bin/main 8 200 3 -27 -27 -2 0.4\n"

#IMEX AF
# instruction+="../../bin/main 101 200 200 -27 -27 -2 0.4 5 0.1\n"

# instruction+="../../bin/main 8 200 3 27 27 3 0.4\n"

# instruction+="../../bin/main 8 200 3 27 27 3 0.4\n"
# Error  0.15760263369197269       0.17999999999999999        0.0000000000000000       0.46146238461456845     
# DO NOT OVERWRITEPRIMTIIVE
# Error  0.15837289701199353       0.17999999999999974        0.0000000000000000       0.46421038144140897  


# instruction+="../../bin/main 3 200 200 1 1 -1 0.4\n"
#  Error   4.1579771518741593E-002   9.7031578790528081E-002   9.7088472207924437E-002  0.27306347705860134     
#  Error WC   4.7333428724154102E-002   6.4266311198942008E-002   6.4197986181659228E-002   4.4818578217131783E-002
#NB: Also normalize all flag

# instruction+="../../bin/main 3 200 200 -1 -1 -1 0.4\n"
#  Error   7.2691456357117093E-003   2.0252164025933193E-002   1.7544396983598907E-002   4.0537187651612544E-002
#  Error W_X   4.7328991264624226E-002   6.4265716560889002E-002   6.4206748400809574E-002   4.4826692688304706E-002
#  Error W_Y   4.7324986934648323E-002   6.4273428015328440E-002   6.4202380471571591E-002   4.4824621963056921E-002

 
# instruction+="../../bin/main 3 200 200 1 1 -11 0.4\n"
#  Error   4.7463066720414317E-002  0.11637374547875763       0.11715365866186377       0.29116440798503124     
#  Error WC   4.7333428724154102E-002   6.4266311198942008E-002   6.4197986181659228E-002   4.4818578217131783E-002


# instruction+="../../bin/main 3 200 200 -1 -1 -11 0.4\n"
#  Error   7.9084294202093324E-003   1.8382857741184103E-002   2.1812794564992830E-002   4.5355230559861771E-002
#  Error W_X   4.7328991264624226E-002   6.4265716560889002E-002   6.4206748400809574E-002   4.4826692688304706E-002
#  Error W_Y   4.7324986934648323E-002   6.4273428015328440E-002   6.4202380471571591E-002   4.4824621963056921E-002

# instruction+="../../bin/main 3 800 800 1 1 -1 0.4\n"
# Error   1.0516935267064037E-002   2.4412993162536260E-002   2.4497886431763729E-002   6.9083817695188829E-002
#  Error WC   1.1942042151458094E-002   1.6056880146545695E-002   1.6089095385973924E-002   1.1351620310358513E-002

# instruction+="../../bin/main 3 800 800 1 1 -11 0.4\n"
#  Error   1.2106397614254461E-002   2.9518580569714709E-002   2.9753636440154288E-002   7.4137710260220438E-002
#  Error WC   1.1942042151458094E-002   1.6056880146545695E-002   1.6089095385973924E-002   1.1351620310358513E-002

################################

# instruction+="../../bin/main 3 800 800 1 1 -1 0.4\n"
#  Error   1.0516935267064037E-002   2.4412993162536260E-002   2.4497886431763729E-002   6.9083817695188829E-002
#  Error WC   1.1942042151458094E-002   1.6056880146545695E-002   1.6089095385973924E-002   1.1351620310358513E-002 <<<<<<<<<


# instruction+="../../bin/main 3 800 800 -1 -1 -1 0.4\n"
#  Error   1.8455399330156840E-003   5.2240461226310542E-003   4.4937627267440860E-003   1.0309798575747091E-002
#  Error W_X   1.1942108753884299E-002   1.6056960785475260E-002   1.6089084989573330E-002   1.1351630131659119E-002 <<<<<<<<<
#  Error W_Y   1.1942113947130954E-002   1.6057027101325283E-002   1.6089107016736062E-002   1.1351660368476934E-002 <<<<<<<<<

#############################3


# instruction+="../../bin/main 3 200 200 27 27 -2 0.4\n"

# instruction+="../../bin/main 3 200 200 27 27 -2 0.4\n"
#  Error   4.3431692553626000E-003   1.0412412344123601E-002   1.0738032281133970E-002   2.5708940146060889E-002
#  Error WC   4.3450377532319989E-003   9.4544830514416353E-003   9.5459219401215403E-003   4.4563701939525358E-003

# instruction+="../../bin/main 3 200 200 27 27 -3 0.4\n"
#  Error   4.2826523911241978E-003   1.0233987493559974E-002   1.0525972889463050E-002   2.5548461619925418E-002
#  Error WC   4.2847063841735325E-003   9.0726595420417746E-003   9.1676635517298193E-003   4.3239051744562744E-003

# instruction+="../../bin/main 3 200 200 -27 -27 -3 0.4\n"
# Error   3.4032780364835393E-003   8.0406411678268109E-003   7.7667611872948017E-003   2.1002821863129947E-002
# Error W_X   4.2166670181167463E-003   8.8771245648761356E-003   8.7578598818529984E-003   4.1767668176485124E-003
# Error W_Y   4.1995160005156669E-003   8.7923540807522699E-003   9.0356625849612304E-003   4.2050342290844032E-003

# instruction+="../../bin/main 3 200 200 27 27 -4 0.4\n"
#  Error   4.2746993926541721E-003   1.0232257866301709E-002   1.0523289597203434E-002   2.5529154370889619E-002
#  Error WC   4.2759505978537731E-003   9.0778165714458688E-003   9.1755722821480860E-003   4.3169997201098730E-003

# instruction+="../../bin/main 3 200 200 -27 -27 -5 0.4\n"
#  Error   3.3973754667404148E-003   8.0316113321407760E-003   7.7598664533249321E-003   2.0984618354072084E-002
#  Error W_X   4.2079986491492449E-003   8.8843153528506934E-003   8.7665960334799130E-003   4.1751135079605983E-003
#  Error W_Y   4.1924945347326156E-003   8.7991683058435653E-003   9.0455977324762626E-003   4.2017866400567870E-003

# instruction+="../../bin/main 3 200 200 27 27 -5 0.4\n"
#  Error   4.2759280125722610E-003   1.0233485315148930E-002   1.0524950311269371E-002   2.5534452583371448E-002
#  Error WC   4.2772705664609499E-003   9.0794906854022982E-003   9.1763058189353649E-003   4.3196784391446351E-003


# instruction+="../../bin/main 3 200 200 -27 -27 -4 0.4\n"
#  Error   3.3951935346924929E-003   8.0284857125648233E-003   7.7568062900215291E-003   2.0977531230260828E-002
#  Error W_X   4.2061145582208423E-003   8.8835280663562121E-003   8.7648612211842884E-003   4.1724051457371720E-003
#  Error W_Y   4.1909846007575869E-003   8.7978550614270078E-003   9.0454226920823663E-003   4.1990236475412833E-003


# instruction+="../../bin/main 3 200 200 -27 -27 -2 0.4\n"
#  Error   3.4862216190623707E-003   8.2052823662778253E-003   7.9016842480785898E-003   2.1236086675056276E-002
#  Error W_X   4.2625085613429287E-003   9.2533761088706423E-003   9.1042443388374746E-003   4.2989441278048187E-003
#  Error W_Y   4.2412153087930133E-003   9.1759072554000332E-003   9.4320272011858865E-003   4.3272384352510598E-003


# instruction+="../../bin/main 3 800 800 27 27 -2 0.4\n"
#  Error   2.3631413279417008E-004   5.5695997641769972E-004   5.7730097067839844E-004   1.3335887877499982E-003
#  Error WC   2.3163971558209942E-004   5.4149344207352534E-004   5.4309289985453660E-004   2.2952602198882252E-004


# instruction+="../../bin/main 3 800 800 -27 -27 -2 0.4\n"
# Error   2.4253681416076724E-004   6.5287014659335231E-004   6.4083255437600195E-004   1.6109024911781804E-003
#  Error W_X   2.2776808940866661E-004   5.4062034094294793E-004   5.3081571049588762E-004   2.2923045071032927E-004
#  Error W_Y   2.2795969915902488E-004   5.3048501167126956E-004   5.4362844800847699E-004   2.3019464967210601E-004


# instruction+="../../bin/main 3 801 801 27 27 -2 0.4\n"

#NB: Simulations with shock detector have been ran with the following flags

#FCFLAGS += -I. -DCENTEREDPRIMITIVE
#FCFLAGS += -I. -DRECONSTRUCTFROMCONSERVED
#FCFLAGS += -I. -DPATHCONSERVATIVESHOCKDETECTION
#FCFLAGS += -I. -DSMOOTHINGLIMITER
#FCFLAGS += -I. -DDETECTEACHSTAGE

#NB: NO ALTERNATIVE FORMULATION PRESSURE

#302 IO
#304 FF

# instruction+="../../bin/main 3 200 200 -27 -27 -12 0.4\n"
#  Error   3.4977064812863677E-003   8.2483088262853971E-003   7.9391335148500247E-003   2.1348518024907771E-002
#  Error W_X   4.2625085613429287E-003   9.2533761088706423E-003   9.1042443388374746E-003   4.2989441278048187E-003
#  Error W_Y   4.2412153087930133E-003   9.1759072554000332E-003   9.4320272011858865E-003   4.3272384352510598E-003


# instruction+="../../bin/main 3 200 200 27 27 -12 0.4\n"
#  Error   4.3231613028673170E-003   1.0171397165010832E-002   1.0480147604096747E-002   2.5251015927879279E-002
#  Error WC   4.3450377532319989E-003   9.4544830514416353E-003   9.5459219401215403E-003   4.4563701939525358E-003


# instruction+="../../bin/main 3 200 200 -27 -27 -13 0.4\n"
#  Error   3.3941909735028595E-003   8.0146792762253397E-003   7.7438175882623391E-003   2.0946538647825405E-002
#  Error W_X   4.2166670181167463E-003   8.8771245648761356E-003   8.7578598818529984E-003   4.1767668176485124E-003
#  Error W_Y   4.1995160005156669E-003   8.7923540807522699E-003   9.0356625849612304E-003   4.2050342290844032E-003


# instruction+="../../bin/main 3 200 200 27 27 -13 0.4\n"
#  Error   4.2739983006114864E-003   1.0222010366927603E-002   1.0510295592997950E-002   2.5536913961063553E-002
#  Error WC   4.2847063841735325E-003   9.0726595420417746E-003   9.1676635517298193E-003   4.3239051744562744E-003


# instruction+="../../bin/main 3 200 200 -27 -27 -14 0.4\n"
#  Error   3.3948587209554973E-003   8.0294749457499696E-003   7.7576573800943963E-003   2.0980647272944505E-002
#  Error W_X   4.2061145582208423E-003   8.8835280663562121E-003   8.7648612211842884E-003   4.1724051457371720E-003
#  Error W_Y   4.1909846007575869E-003   8.7978550614270078E-003   9.0454226920823663E-003   4.1990236475412833E-003

# instruction+="../../bin/main 3 200 200 27 27 -14 0.4\n"
#  Error   4.2741045388602949E-003   1.0233147442504276E-002   1.0524641468843835E-002   2.5529558056883301E-002
#  Error WC   4.2759505978537731E-003   9.0778165714458688E-003   9.1755722821480860E-003   4.3169997201098730E-003


# instruction+="../../bin/main 3 200 200 -27 -27 -15 0.4\n"
#  Error   3.3974299964579799E-003   8.0315351883765655E-003   7.7598485220262900E-003   2.0984254160460236E-002
#  Error W_X   4.2079986491492449E-003   8.8843153528506934E-003   8.7665960334799130E-003   4.1751135079605983E-003
#  Error W_Y   4.1924945347326156E-003   8.7991683058435653E-003   9.0455977324762626E-003   4.2017866400567870E-003

# instruction+="../../bin/main 3 200 200 27 27 -15 0.4\n"
#  Error   4.2761221444702988E-003   1.0233505052347699E-002   1.0524901867763387E-002   2.5534695818669892E-002
#  Error WC   4.2772705664609499E-003   9.0794906854022982E-003   9.1763058189353649E-003   4.3196784391446351E-003


# instruction+="../../bin/main 3 200 200 -27 -27 -22 0.4\n"
# Error   3.4977064812863677E-003   8.2483088262853971E-003   7.9391335148500247E-003   2.1348518024907771E-002
# Error W_X   4.2625085613429287E-003   9.2533761088706423E-003   9.1042443388374746E-003   4.2989441278048187E-003
# Error W_Y   4.2412153087930133E-003   9.1759072554000332E-003   9.4320272011858865E-003   4.3272384352510598E-003

# instruction+="../../bin/main 3 200 200 27 27 -22 0.4\n"
#  Error   4.3231613028673170E-003   1.0171397165010832E-002   1.0480147604096747E-002   2.5251015927879279E-002
#  Error WC   4.3450377532319989E-003   9.4544830514416353E-003   9.5459219401215403E-003   4.4563701939525358E-003


# instruction+="../../bin/main 200 200 200 27 27 -22 0.4 0.1\n"

# instruction+="../../bin/main 200 400 400 -27 -27 -22 0.4 0 0.1\n"
#  Error   2.2532564342271357E-005   1.0716062989372000E-004   1.0708619989711095E-004   2.1025104033947641E-005
#  Error W_X   2.3290374222147972E-005   9.1711503081146352E-005   8.8274277450661474E-005   4.7938855597129415E-006
#  Error W_Y   2.3294435817778348E-005   8.8436592925256194E-005   9.1541495652334724E-005   4.7942823076441163E-006

# instruction+="../../bin/main 200 400 400 27 27 -22 0.4 0.1 0.0\n"
#  Error   3.4260093935480075E-005   1.5432431634942681E-004   1.5461701610014036E-004   6.5203105572722477E-004
#  Error WC   2.2646298307794912E-005   9.1615616113941708E-005   9.1451152547060164E-005   4.7665012151465467E-006

# instruction+="../../bin/main 200 400 400 27 27 -22 0.4 0.1 1.0\n"

# instruction+="../../bin/main 100 200 200 -23 -23 -22 0.25 0 0.1 10.0\n"
#  Error   2.6719831133612828E-004   5.5788251615587195E-004   5.5788251615637198E-004   3.4138442400513983E-004
#  Error W_X   8.7726075120303092E-005   8.8478934871488431E-004   8.8100747099469426E-004   5.2652930893328289E-006
#  Error W_Y   8.7726075120297481E-005   8.8100747099464211E-004   8.8478934871493776E-004   5.2652930893277908E-006


#This code but with #NORMALIZEALL <<<<<<
#  Error   2.6719831133612828E-004   5.5788251615587195E-004   5.5788251615637198E-004   3.4138442400513983E-004
#  Error W_X   8.7726075120303092E-005   8.8478934871488431E-004   8.8100747099469426E-004   5.2652930893328289E-006
#  Error W_Y   8.7726075120297481E-005   8.8100747099464211E-004   8.8478934871493776E-004   5.2652930893277908E-006

#other code <<<<<< from Augst
#  Error   2.6719831133600880E-004   5.5788251615697024E-004   5.5788251615509783E-004   3.4138442400499623E-004
#  Error W_X   8.7726075120281110E-005   8.8478934871523526E-004   8.8100747099475779E-004   5.2652930893100751E-006
#  Error W_Y   8.7726075120296966E-005   8.8100747099461349E-004   8.8478934871500119E-004   5.2652930893282939E-006


# instruction+="../../bin/main 200 200 200 -23 -23 -22 0.25 0 0.1 10.0\n"
#  Error   8.6876030870223234E-005   1.3858081824322868E-003   1.3855081429297112E-003   1.7921409650091703E-004
#  Error W_X   1.2791713248678784E-005   4.2480163851149838E-004   4.3129933490000828E-004   2.2720700841238897E-005
#  Error W_Y   1.2789482447227442E-005   4.3128652158796137E-004   4.2473252952263899E-004   2.2727170116512156E-005

#past code
#  Error   8.6876030870223234E-005   1.3858081824322868E-003   1.3855081429297112E-003   1.7921409650091703E-004
#  Error W_X   1.2791713248678784E-005   4.2480163851149838E-004   4.3129933490000828E-004   2.2720700841238897E-005
#  Error W_Y   1.2789482447227442E-005   4.3128652158796137E-004   4.2473252952263899E-004   2.2727170116512156E-005

# instruction+="../../bin/main 200 200 200 23 23 -22 0.25 0.1 10.0\n"
#  Error   1.7458911037895322E-005   4.6503444305484370E-004   4.6380250299756344E-004   1.2727882681561999E-003
#  Error WC   1.4079012747169053E-005   4.2626333774249963E-004   4.2618783645380419E-004   2.7905948454438615E-005

# instruction+="../../bin/main 100 200 200 23 23 -22 0.25 0.1 10.0\n"
#  Error   1.1324548188984185E-004   7.3135333409769440E-004   7.3135333409772747E-004   1.7132319534152441E-003
#  Error WC   8.7358003839573624E-005   8.8477634028943442E-004   8.8477634028940699E-004   5.2867469695840582E-006

#If I overwrite the primtive with the swithcing function
# instruction+="../../bin/main 100 200 200 23 23 -22 0.25 0.1 10.0\n"
#  Error   3.8297573061973574E-004   6.5242450219622707E-004   6.5242450219621124E-004   1.0934741315019876E-003
#  Error WC   2.2006767365181600E-004   7.2958359662160998E-004   7.2958359662155566E-004   5.3735994518998026E-006

# instruction+="../../bin/main 200 200 200 23 23 -22 0.25 0.001 10.0\n"
#  Error   7.3728024834407447E-007   3.2310148576763625E-004   3.2304708458406498E-004   1.2634303269739523E-003
#  Error WC   6.1885353681012669E-007   5.9001742600484080E-006   5.9001636214273128E-006   7.1913794918998533E-011

#If I overwrite the primtive with the swithcing function
# instruction+="../../bin/main 200 64 64 27 27 -22 0.475 0.1 0.0\n"
#  Error   8.4200011001970589E-004   6.1744097692354501E-003   6.1983732898143375E-003   1.9739062908676270E-003
#  Error WC   9.5910899398437503E-004   2.5118429024232995E-003   2.5107024643091511E-003   2.0703662741822747E-004

# instruction+="../../bin/main 200 64 64 27 27 -42 0.475 0.1 0.0\n"
#  Error   1.0050854822763410E-003   6.5895760821721768E-003   6.6050033519663934E-003   2.0405259865807074E-003
#  Error WC   1.0720810461698274E-003   2.8580206001064894E-003   2.8586544912783123E-003   2.5804010370053272E-004


# instruction+="../../bin/main 200 128 128 27 27 -22 0.475 0.1 0.0\n"
#  Error   6.9965467442404566E-004   2.0802960355739966E-003   2.0818912308110870E-003   5.3793339074432707E-004
#  Error WC   2.7054629282767756E-004   7.4057519345637011E-004   7.4007125714394256E-004   5.1866982166593086E-005

# instruction+="../../bin/main 200 128 128 27 27 -42 0.475 0.1 0.0\n"
#  Error   7.4862873260682545E-004   2.2476822040034439E-003   2.2519581074306109E-003   5.2869467198757964E-004
#  Error WC   2.8243643631907544E-004   7.9957110866276033E-004   7.9960524416186976E-004   5.7312151430542269E-005

# instruction+="../../bin/main 200 256 256 27 27 -22 0.475 0.1 0.0\n"
#  Error   2.1591520056344292E-004   6.8931168644823545E-004   6.9147969793829087E-004   1.2721849459878160E-004
#  Error WC   6.4105140146955683E-005   2.1230682979686666E-004   2.1196615065185529E-004   1.0860755149579980E-005

# instruction+="../../bin/main 200 256 256 27 27 -42 0.475 0.1 0.0\n"
#  Error   2.4821327514129246E-004   7.5471965917809616E-004   7.5635045929593986E-004   1.3059905502398159E-004
#  Error WC   6.8086560866370652E-005   2.2323460108103103E-004   2.2336219937327950E-004   1.2407249755633958E-005



# instruction+="../../bin/main 200 64 64 27 27 -22 0.475 0.001 0.0\n"
#  Error   1.1601226592385019E-003   6.3529387092055994E-003   6.3531075298031078E-003   1.7709806477144048E-005
#  Error WC   9.1086003107328402E-006   1.4688581173301438E-005   1.4688756259093657E-005   1.3310034498170698E-011

# instruction+="../../bin/main 200 64 64 27 27 -42 0.475 0.001 0.0\n"
#  Error   1.2834846402883849E-003   6.5754661775535529E-003   6.5758350783809184E-003   1.7711245047652424E-005
#  Error WC   9.7821440807419752E-006   1.7322865689703253E-005   1.7322857185871933E-005   9.5609718059330717E-011

#SAME

instruction+="../../bin/main -8 200 200 27 27 -52 0.25 1.0 10.0\n"


# instruction+="../../bin/main 300 100 100 27 27 -22 0.25 0.1 0.0\n"

#IM
# instruction+="../../bin/main 300 100 100 27 27 -22 0.25 0.001 0.0\n"

# instruction+="../../bin/main 300 100 100 1 1 -1 0.25 0.001 0.0\n"

# instruction+="../../bin/main -8 200 3 27 27 12 0.25 0.3\n"

# instruction+="../../bin/main -7 200 200 27 27 12 0.25 0.3\n"

# instruction+="../../bin/main 300 200 200 27 27 -22 0.25 0.01 0.0\n"
# instruction+="../../bin/main 300 200 200 27 27 -22 0.25 0.1 0.0\n"

# instruction+="../../bin/main -8 200 200 27 27 -22 0.25 0.3 0.0\n"

# instruction+="../../bin/main 8 200 3 27 27 -22 0.2 1.0 0.0\n"

# instruction+="../../bin/main -8 1000 3 27 27 -22 0.2 0.9 0.0\n"


# instruction+="../../bin/main -8 200 3 27 27 -22 0.2 0.6 0.0\n"
#0.3

# instruction+="../../bin/main -7 400 400 27 27 -22 0.2 0.3 0.0\n"

# instruction+="../../bin/main -7 400 400 27 27 -22 0.2 0.3 0.0\n"


# instruction+="../../bin/main 7 400 400 27 27 -42 0.475 1.0 0.0\n"

# instruction+="../../bin/main 200 64 64 27 27 -42 0.475 0.001 0.0\n"

# instruction+="../../bin/main 200 64 64 27 27 -22 0.475 0.001 0.0\n"
#  Error   1.1601226592529977E-003   6.3529386972791483E-003   6.3531075225113920E-003   1.7709806477274152E-005
#  Error WC   9.1086003109822067E-006   1.4688581173431543E-005   1.4688756259115341E-005   1.3310034498170698E-011

# instruction+="../../bin/main 200 64 64 27 27 -52 0.475 0.001 0.0\n"
#  Error   1.1601226592529977E-003   6.3529386972791483E-003   6.3531075225113920E-003   1.7709806477274152E-005
#  Error WC   9.1086003109822067E-006   1.4688581173431543E-005   1.4688756259115341E-005   1.3310034498170698E-011

# instruction+="../../bin/main 200 64 64 27 27 -52 0.475 0.001 0.0\n"
#  Error   1.1601228139241954E-003   6.3529161136237919E-003   6.3530934399422100E-003   1.7709696657774738E-005
#  Error WC   9.1086003106677881E-006   1.4688530966522600E-005   1.4688705791314829E-005   1.3307649253391229E-011

#DO NOT OVERWRITE
# instruction+="../../bin/main 200 64 64 27 27 -22 0.475 0.001 0.0\n"
#  Error   1.1601226592385019E-003   6.3529387092055994E-003   6.3531075298031078E-003   1.7709806477144048E-005
#  Error WC   9.1086003107328402E-006   1.4688581173301438E-005   1.4688756259093657E-005   1.3310034498170698E-011

#DO NOT OVERWRITE
# instruction+="../../bin/main 200 64 64 27 27 -2 0.475 0.001 0.0\n"
#  Error   1.8866271227786953E-003   6.7299746596293951E-003   6.7297705900076360E-003   1.9331168754903750E-005
#  Error WC   9.1086003107328402E-006   1.4688581173301438E-005   1.4688756259093657E-005   1.3310034498170698E-011

# instruction+="../../bin/main 200 64 64 27 27 -82 0.475 0.001 0.0\n"
#  Error   1.8866271227786953E-003   6.7299746596293951E-003   6.7297705900076360E-003   1.9331168754903750E-005
#  Error WC   9.1086003107436822E-006   1.4688530966425022E-005   1.4688705791336513E-005   1.3307649253391229E-011

#NO OVERWRITE
# instruction+="../../bin/main 200 200 200 27 27 -82 0.475 0.1 0.0\n"
#  Error   2.4841517651534860E-004   1.0153190208226539E-003   1.0159502139498789E-003   2.3340338676155483E-004
#  Error WC   1.0297718393599386E-004   3.4365132208689870E-004   3.4316996349853637E-004   1.9368579272840417E-005

#NO OVERWRITE
# instruction+="../../bin/main 200 200 200 27 27 -52 0.475 0.1 0.0\n"
#  Error   3.4999369652634620E-004   1.1911335212255148E-003   1.1948728862480563E-003   2.0814858598338314E-004
#  Error WC   1.0297718393599386E-004   3.4365132208689870E-004   3.4316996349853637E-004   1.9368579272840417E-005

#OVERWRITE
# instruction+="../../bin/main 200 200 200 27 27 -82 0.475 0.1 0.0\n"
#  Error   2.4841517651532198E-004   1.0153190208226860E-003   1.0159502139498280E-003   2.3340338676155928E-004
#  Error WC   1.0297718393599054E-004   3.4365132208690309E-004   3.4316996349849973E-004   1.9368579272831534E-005

#OVERWRITE
# instruction+="../../bin/main 200 200 200 27 27 -52 0.475 0.1 0.0\n"
#  Error   3.4999369652631953E-004   1.1911335212253515E-003   1.1948728862479965E-003   2.0814858598337206E-004
#  Error WC   1.0297718393598721E-004   3.4365132208689534E-004   3.4316996349851751E-004   1.9368579272840417E-005

print(instruction)
os.system(instruction)

#Plot
instruction="python3 tools/plotting_gif.py --dir "+ReferenceTestFolder


os.system(instruction)

sys.exit()
